(this.webpackJsonpsfdad=this.webpackJsonpsfdad||[]).push([[0],{150:function(e,t,a){e.exports=a.p+"static/media/drone.9b51e7dc.png"},155:function(e,t,a){e.exports=a.p+"static/media/shipping_logo.0f4f4509.png"},181:function(e,t,a){e.exports=a.p+"static/media/drone_logo.7f39bda8.png"},184:function(e,t,a){e.exports=a.p+"static/media/location_logo.8447f75e.png"},236:function(e,t,a){e.exports=a.p+"static/media/robot_logo.6efc700d.png"},237:function(e,t,a){e.exports=a.p+"static/media/shark_logo.415714ca.png"},238:function(e,t,a){e.exports=a.p+"static/media/redDot.9920085f.svg"},251:function(e,t,a){e.exports=a.p+"static/media/car2.885e97ef.png"},252:function(e,t,a){e.exports=a.p+"static/media/drone2.09a3bd60.png"},273:function(e,t,a){e.exports=a(470)},278:function(e,t,a){},470:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),l=a.n(o),s=(a(278),a(17)),i=a(18),c=a(20),p=a(19),u=(n.Component,a(537)),m=a(546),d=a(547),g=a(32),h=a(522),f=a(548),E=a(533),y=a(542),v=a(6),b=a(518),O=a(258),k=Object(O.a)({palette:{primary:{main:"#009688"},secondary:{main:"#1976d2"}},typography:{fontSize:21}}),C=a(154),x=function(e){var t;return{layout:(t={position:"absolute",padding:"20px",width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},Object(C.a)(t,e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),Object(C.a)(t,"zIndex",10),t),userLayout:{position:"absolute",padding:"10px",margin:"10px",marginRight:"20px",width:"auto",right:"0px",zIndex:10},paper:Object(C.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(1),marginBottom:e.spacing(0),padding:e.spacing(3),width:600}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end",maxHeight:"60px"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},listItem:{padding:e.spacing(1,0)},formControl:{padding:e.spacing(1,0),marginLeft:e.spacing(3)},formControlLable:{marginLeft:e.spacing(0)},typo:{padding:e.spacing(.5),marginLeft:e.spacing(3)},total:{fontWeight:700},menu:{"border-radius":"5px"}}},j=a(540),w=a(538),N=a(10),S=a(52),T=a(521),L=a(471),A=a(535),P=a(523),F=a(524),B=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getOptions=function(t){e.props.onLoading(!0);var a="http://18.191.48.223/dispatchDeliveryBackend/Login/option?";a+="from="+e.props.pickupAddress.text+", San Francisco, CA "+e.props.pickupAddress.zip,a+="&to="+e.props.shipAddress.text+", San Francisco, CA "+e.props.shipAddress.zip,console.log(a),a=encodeURI(a),fetch(a).then((function(e){return e.json()})).then((function(t){e.props.onOptionsChange(t)}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t={pickupAddress:this.props.pickupAddress,shipAddress:this.props.shipAddress,item:this.props.item,options:this.props.options},a=this.props.classes;return r.a.createElement(b.a,{theme:k},r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{variant:"h6",gutterBottom:!0,align:"left"},"Pick up from"),r.a.createElement(T.a,{container:!0,spacing:3},r.a.createElement(T.a,{item:!0,xs:9},r.a.createElement(A.a,{required:!0,id:"pick up address",name:"address",label:"Pick-up Address",fullWidth:!0,autoComplete:"shipping address-line",defaultValue:this.props.pickupAddress.text,onChange:function(a){t.pickupAddress.text=a.target.value,e.props.onQueryChange(t)}})),r.a.createElement(T.a,{item:!0,xs:3},r.a.createElement(L.a,{variant:"body1",align:"center"},"San Francisco, CA")),r.a.createElement(T.a,{item:!0,xs:12,sm:4},r.a.createElement(A.a,{name:"zip",label:"zip code",fullWidth:!0,autoComplete:"shipping postal-code",defaultValue:this.props.pickupAddress.zip,onChange:function(a){t.pickupAddress.zip=a.target.value,e.props.onQueryChange(t)}}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"h6",gutterBottom:!0,align:"left"},"Ship to"),r.a.createElement(T.a,{container:!0,spacing:3},r.a.createElement(T.a,{item:!0,xs:9},r.a.createElement(A.a,{required:!0,id:"shipping address",name:"address",label:"Shipping Address",fullWidth:!0,defaultValue:this.props.shipAddress.text,autoComplete:"shipping address-line",onChange:function(a){t.shipAddress.text=a.target.value,e.props.onQueryChange(t)}})),r.a.createElement(T.a,{item:!0,xs:3},r.a.createElement(L.a,{variant:"body1",align:"center"},"San Francisco, CA")),r.a.createElement(T.a,{item:!0,xs:12,sm:4},r.a.createElement(A.a,{name:"zip",label:"zip code",fullWidth:!0,defaultValue:this.props.shipAddress.zip,autoComplete:"shipping postal-code",onChange:function(a){t.shipAddress.zip=a.target.value,e.props.onQueryChange(t)}}))),this.props.isLoading?r.a.createElement("div",{className:a.buttons},r.a.createElement(P.a,{variant:"contained",color:"primary",className:a.button},"Loading...","  ",r.a.createElement(F.a,{size:13,color:"inherit"}))):r.a.createElement("div",{className:a.buttons},r.a.createElement(P.a,{variant:"contained",color:"primary",onClick:function(){e.getOptions(t)},className:a.button},"next"))))}}]),a}(n.Component),I=Object(v.a)(x)(B),D=a(73),z=(a(235),a(550)),U=a(541),R=a(545),H=a(526),q=a(549),W=a(525),V=a(181),Q=a.n(V),J=a(236),M=a.n(J),Y=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).RadioButtonsGroup=function(){var e=r.a.useState("drone"),t=Object(D.a)(e,2);t[0],t[1]},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.options,a=this.props.optionIdx,n=this.props.classes;return r.a.createElement(b.a,{theme:k},r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{variant:"h6",gutterBottom:!0,align:"left"},"Delivery method"),r.a.createElement(q.a,{className:n.formControl},r.a.createElement(R.a,{defaultValue:"drone",onChange:this.RadioButtonsGroup.handleChange},r.a.createElement(W.a,{className:n.typo},r.a.createElement(z.a,{alt:"drone",src:Q.a})),r.a.createElement(H.a,{value:"drone",control:r.a.createElement(U.a,null),label:"DRONE",onChange:function(){a=0,e.props.onOptionSelectedChange(a)}}),r.a.createElement(L.a,{className:n.typo},"price: ",Number(t[0].option.fee).toFixed(2)," USD"),r.a.createElement(L.a,{className:n.typo},"Arrival time: ",t[0].option.deliveryTime),r.a.createElement("br",null),r.a.createElement(W.a,{className:n.typo},r.a.createElement(z.a,{alt:"robot",src:M.a})),r.a.createElement(H.a,{value:"robot",control:r.a.createElement(U.a,null),label:"ROBOT",onChange:function(){a=1,e.props.onOptionSelectedChange(a)}}),r.a.createElement(L.a,{className:n.typo},"price: ",Number(t[1].option.fee).toFixed(2)," USD"),r.a.createElement(L.a,{className:n.typo},"Arrival time: ",t[1].option.deliveryTime)))),r.a.createElement("div",{className:n.buttons},r.a.createElement(P.a,{className:n.button,onClick:this.props.onBack},"Back"),r.a.createElement(P.a,{variant:"contained",color:"primary",className:n.button,onClick:this.props.onNext},"Next")))}}]),a}(n.Component),_=Object(v.a)(x)(Y),G=a(544),K=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(b.a,{theme:k},r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{variant:"h6",gutterBottom:!0,align:"left"},"Payment"),r.a.createElement(T.a,{container:!0,spacing:3},r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(A.a,{required:!0,id:"cardName",label:"Name on card",fullWidth:!0,autoComplete:"cc-name"})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(A.a,{required:!0,id:"cardNumber",label:"Card number",fullWidth:!0,autoComplete:"cc-number"})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(A.a,{required:!0,id:"expDate",label:"Expiry date",fullWidth:!0,autoComplete:"cc-exp"})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(A.a,{required:!0,id:"cvv",label:"CVV",helperText:"Last three digits on signature strip",fullWidth:!0,autoComplete:"cc-csc"})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(H.a,{control:r.a.createElement(G.a,{color:"secondary",name:"saveCard",value:"yes"}),label:"Remember credit card details for next time"}))),r.a.createElement("div",{className:e.buttons},r.a.createElement(P.a,{className:e.button,onClick:this.props.onBack},"Back"),r.a.createElement(P.a,{variant:"contained",color:"primary",className:e.button,onClick:this.props.onNext},"Next"))))}}]),a}(n.Component),Z=Object(v.a)(x)(K),$=a(527),X=a(528),ee=a(530),te=a(529),ae=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getOrder=function(){var t=e.props.options[e.props.optionIdx].option.id,a=e.props.user.email;console.log(a),console.log(t),fetch("http://18.191.48.223/dispatchDeliveryBackend/Login/order/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({optionID:t,email:a})}).then((function(e){return e.json()})).then((function(t){e.props.onPaymentPayChange(t)})).then((function(t){return console.log("orderid"+e.props.orderID)})).then((function(t){return e.props.onNext()}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.options,a=this.props.optionIdx,n=this.props.classes;return r.a.createElement(b.a,{theme:k},r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{variant:"h6",gutterBottom:!0,align:"left"},"Order Summary"),r.a.createElement($.a,{className:n.table,"aria-label":"simple table"},r.a.createElement(X.a,null,r.a.createElement(te.a,null,r.a.createElement(ee.a,null,"option"),r.a.createElement(ee.a,{align:"right"},t[a].carrierType)),r.a.createElement(te.a,null,r.a.createElement(ee.a,null,"from"),r.a.createElement(ee.a,{align:"right"},t[a].startAddress)),r.a.createElement(te.a,null,r.a.createElement(ee.a,null,"to"),r.a.createElement(ee.a,{align:"right"},t[a].endAddress)),r.a.createElement(te.a,null,r.a.createElement(ee.a,null,"TOTAL"),r.a.createElement(ee.a,{align:"right"},Number(t[a].option.fee).toFixed(2)," USD"))))),r.a.createElement("div",{className:n.buttons},r.a.createElement(P.a,{className:n.button,onClick:this.props.onBack},"Back"),r.a.createElement(P.a,{variant:"contained",color:"primary",onClick:function(){e.getOrder()},className:n.button},"Place Order")))}}]),a}(n.Component),ne=Object(v.a)(x)(ae),re=a(531),oe=a(532),le=Object(re.a)({root:{width:"100%",padding:"30px"}});function se(){var e=le(),t=r.a.useState(0),a=Object(D.a)(t,2),n=a[0],o=a[1],l=r.a.useState(10),s=Object(D.a)(l,2),i=s[0],c=s[1],p=r.a.useRef((function(){}));return r.a.useEffect((function(){p.current=function(){if(n>100)o(0),c(10);else{var e=10*Math.random(),t=10*Math.random();o(n+e),c(n+e+t)}}})),r.a.useEffect((function(){var e=setInterval((function(){p.current()}),1e3);return function(){clearInterval(e)}}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(oe.a,{variant:"buffer",value:n,valueBuffer:i}))}var ie=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.orderID;console.log(e),console.log(typeof e);var t=this.props.options;console.log(t),console.log(typeof t);var a=this.props.optionIdx;this.props.classes;return r.a.createElement(b.a,{theme:k},r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{variant:"h5",gutterBottom:!0,align:"left"},"Thank you for your order."),r.a.createElement(L.a,{variant:"subtitle1",align:"left"},"Your order number is ",this.props.orderID["Your order id"],". The expected delivery time is ",t[a].deliveryTime,". Please see the UserInfo page for tracking details."),r.a.createElement(se,null)))}}]),a}(n.Component),ce=Object(v.a)(x)(ie),pe=a(155),ue=a.n(pe),me=a(184),de=a.n(me),ge=a(237),he=a.n(ge),fe=a(238),Ee=a.n(fe),ye=a(105),ve={height:"100vh",width:"100vw"},be={styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#a0d6d1"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#dedede"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#dedede"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#eeeeee"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f1f1f1"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],disableDefaultUI:!0,zoomControl:!0},Oe={lat:37.765,lng:-122.5},ke=["places"],Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.map((function(e){return r.a.createElement(ye.c,{key:"".concat(e.lat,"-").concat(e.lng),position:{lat:e.lat,lng:e.lng},onClick:function(){return a(e)},icon:{url:e.logo?e.logo:Ee.a,origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(t/2,t/2),scaledSize:new window.google.maps.Size(t,t)}})}))},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#f44336";return r.a.createElement(ye.d,{path:e,options:{strokeColor:t,strokeOpacity:.65,strokeWeight:8,fillColor:t,fillOpacity:.5,clickable:!1,draggable:!1,editable:!1,visible:!0,radius:3e4,zIndex:1}})},je=function(e){var t=e.stationToStart.points;return t=t.concat(e.startToEnd.points)};function we(e){var t=[{id:"Station 1",lat:37.7749941,lng:-122.4194974,logo:ue.a},{id:"Station 2",lat:37.75,lng:-122.45,logo:ue.a},{id:"Station 3",lat:37.76,lng:-122.39,logo:ue.a}],a=Object(n.useState)(null),o=Object(D.a)(a,2),l=o[0],s=o[1],i=Object(n.useState)(null),c=Object(D.a)(i,2),p=(c[0],c[1],Object(ye.e)({googleMapsApiKey:"&key=AIzaSyDBQYTDleV9xNENx9ZlnTiFKiNVK25NWxc",libraries:ke})),u=p.isLoaded;if(p.loadError)return"Error loading map";if(!u)return"Loading Map";var m=e.optionIdx,d=e.pickupAddress,g=e.shipAddress,h=null,f=null,E=null,y=null;null!=e.options&&(h=e.options[0],E=je(h),f=e.options[1],y=je(f));var v=[];return null!=e.pickupAddress.lat&&null!=e.pickupAddress.lng&&v.push({id:"Pick Up Here",lat:d.lat,lng:d.lng,logo:de.a}),null!=g.lat&&null!=g.lng&&v.push({id:"Receive Here",lat:g.lat,lng:g.lng,logo:de.a}),v.length>2&&(v=v.slice(v.length-2,v.length)),r.a.createElement("div",null,r.a.createElement(ye.a,{id:"map",mapContainerStyle:ve,zoom:13.1,center:Oe,options:be,onClick:function(e){console.log("lat: "+e.latLng.lat()+" lng: "+e.latLng.lng())}},Ce(t,50,s),0===m&&null!=E?xe(E,"#f44336"):null,1===m&&null!=y?xe(y,"#2196f3"):null,Ce(v,50,s),Ce([{lat:25,lng:-145,logo:he.a}],200),l?r.a.createElement(ye.b,{position:{lat:l.lat,lng:l.lng},onCloseClick:function(){s(null)}},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h4",null,r.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83d\ude1c\ud83d\ude0f\ud83d\ude1d\ud83d\ude44\ud83d\ude06")," "),r.a.createElement("h5",null," This is the ",l.id,"."))):null))}var Ne=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={step:0,pickupAddress:{text:"",zip:null,lat:null,lng:null},shipAddress:{text:"",zip:null,lat:null,lng:null},item:{weight:null,length:null,height:null,width:null},options:null,optionIdx:0,orderID:null,isLoading:!1,anchorEl:null},e.handleQueryChange=function(t){e.setState({pickupAddress:t.pickupAddress,shipAddress:t.shipAddress,item:t.item})},e.handleOptionsChange=function(t){e.setState({options:t}),console.log("option is changed"),e.handleLoading(!1);var a=e.state.pickupAddress;a.lat=t[0].startToEnd.points[0].lat,a.lng=t[0].startToEnd.points[0].lng,e.setState(a);var n=e.state.shipAddress;n.lat=t[0].startToEnd.points[1].lat,n.lng=t[0].startToEnd.points[1].lng,e.setState(n),e.handleNext(),console.log(e.state.options)},e.handleLoading=function(t){e.setState({isLoading:t})},e.handleOptionSelected=function(t){e.setState({optionIdx:t})},e.handlePaymentPay=function(t){console.log(t),e.setState({orderID:t}),console.log("order"+e.state.orderID["Your order id"])},e.handleNext=function(){var t=e.state.step;e.setState({step:t+1})},e.handleBack=function(){var t=e.state.step;e.setState({step:t-1})},e.getStepContent=function(t){switch(t){case 0:return r.a.createElement(I,Object.assign({},e.state,{onQueryChange:e.handleQueryChange,onNext:e.handleNext,onOptionsChange:e.handleOptionsChange,onLoading:e.handleLoading}));case 1:return r.a.createElement(_,Object.assign({},e.state,{onOptionSelectedChange:e.handleOptionSelected,onNext:e.handleNext,onBack:e.handleBack}));case 2:return r.a.createElement(Z,{onNext:e.handleNext,onBack:e.handleBack});case 3:return r.a.createElement(ne,Object.assign({},e.state,{user:e.props.user,onPaymentPayChange:e.handlePaymentPay,onNext:e.handleNext,onBack:e.handleBack}));case 4:return r.a.createElement(ce,e.state);default:throw new Error("Unknown step")}},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=[{info:"Query",emoji:r.a.createElement("span",{role:"img","aria-label":"tent"},"\ud83c\udff0")},{info:"Deliver",emoji:r.a.createElement("span",{role:"img","aria-label":"tent"},"\ud83d\ude80")},{info:"Pay",emoji:r.a.createElement("span",{role:"img","aria-label":"tent"},"\ud83d\udcb3")},{info:"Confirm",emoji:r.a.createElement("span",{role:"img","aria-label":"tent"},"\ud83d\ude18")}],a=j.a.SubMenu,n=(w.a.Title,w.a.Paragraph,w.a.Text);return r.a.createElement(b.a,{theme:k},null==this.props.user&&r.a.createElement(g.c,{to:"/login"}),r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,r.a.createElement("span",{className:e.layout},r.a.createElement(h.a,{className:e.paper},r.a.createElement(f.a,{activeStep:this.state.step,className:e.stepper},t.map((function(e){return r.a.createElement(E.a,{key:e.info},r.a.createElement(y.a,null,e.emoji," ",e.info))}))),r.a.createElement(r.a.Fragment,null,this.getStepContent(this.state.step)))),r.a.createElement("span",{className:e.userLayout},r.a.createElement(j.a,{className:e.menu,mode:"horizontal"},r.a.createElement(a,{key:"sub1",title:null==this.props.user?r.a.createElement("div",null,r.a.createElement(N.a,{type:"user",style:{fontSize:19}}),r.a.createElement(n,{strong:!0,style:{fontSize:14}},"Please log in")):r.a.createElement("div",null,r.a.createElement(N.a,{type:"user",style:{fontSize:19}}),r.a.createElement(n,{strong:!0,style:{fontSize:14}},this.props.user.email))},r.a.createElement(j.a.Item,{key:"9"},null==this.props.user?r.a.createElement(n,{strong:!0},"log in"):r.a.createElement(n,{strong:!0},"log out"),r.a.createElement(S.Link,{to:"/login",onClick:this.props.logout})),r.a.createElement(j.a.Item,{key:"10"},r.a.createElement(n,{strong:!0},"orders"),r.a.createElement(S.Link,{to:"/history",onClick:this.props.onClickUser}))))))),r.a.createElement("div",null,r.a.createElement(we,this.state)))}}]),a}(n.Component),Se=Object(v.a)(x)(Ne),Te=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"lander"},r.a.createElement(Se,{user:this.props.user,logout:this.props.logout,onClickUser:this.props.onClickUser})))}}]),a}(n.Component),Le=a(150),Ae=a.n(Le),Pe=a(539),Fe=a(543),Be=a(195),Ie=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={confirmDirty:!1,autoCompleteResult:[]},e.login=function(t){fetch("http://18.191.48.223/dispatchDeliveryBackend/login",{method:"POST",headers:{"Content-Type":"application/json",Origin:"http://localhost:3000"},body:JSON.stringify(t)}).then((function(e){if(e.status>=400&&e.status<600)throw new Error("Bad response from server");return e.json()})).then((function(t){console.log("Success:",t),e.props.updateLogin(!0),e.props.updateUser(t),e.props.updatePage("/")})).catch((function(e){console.error("Login Failed:",e),alert("The email or password is incorrect!!")}))},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll((function(t,a){if(!t){console.log("Received values of form: ",a);var n={email:a.email,password:a.password};e.login(n)}}))},e.handleConfirmBlur=function(t){var a=t.target.value;e.setState({confirmDirty:e.state.confirmDirty||!!a})},e.compareToFirstPassword=function(t,a,n){var r=e.props.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},e.validateToNextPassword=function(t,a,n){var r=e.props.form;a&&e.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};return r.a.createElement(Pe.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),r.a.createElement(Pe.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(Fe.a,null))),r.a.createElement(Pe.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(Fe.a.Password,null))),r.a.createElement(Pe.a.Item,t,r.a.createElement(Be.a,{type:"primary",htmlType:"submit",style:{width:"120px",background:"#009688",borderColor:"#009688"}},"Login")))}}]),a}(r.a.Component),De=Pe.a.create({name:"register"})(Ie),ze=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(e){console.log("Success:",e)},e.onFinishFailed=function(e){console.log("Failed:",e)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"Login-box"},r.a.createElement(De,{className:"Login-form",updatePage:this.props.updatePage,updateUser:this.props.updateUser,updateLogin:this.props.updateLogin})),r.a.createElement("div",{className:"background"},r.a.createElement("img",{className:"background-drone",src:Ae.a,alt:"logo",width:"1000"})))}}]),a}(n.Component),Ue=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={confirmDirty:!1,autoCompleteResult:[]},e.register=function(t){fetch("http://18.191.48.223/dispatchDeliveryBackend/register",{method:"POST",headers:{"Content-Type":"application/json",Origin:"http://localhost:3000"},body:JSON.stringify(t)}).then((function(e){if(console.log(e),e.status>=400&&e.status<600)throw new Error("Bad response from server");return e.json()})).then((function(t){console.log("Success:"),console.log(t),e.props.updatePage("/login")})).catch((function(e){console.error("Register Failed:",e),alert("The email has been registered. Please log in or change the email!!")}))},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll((function(t,a){if(!t){console.log("Received values of form: ",a);var n={email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName};e.register(n)}}))},e.handleConfirmBlur=function(t){var a=t.target.value;e.setState({confirmDirty:e.state.confirmDirty||!!a})},e.compareToFirstPassword=function(t,a,n){var r=e.props.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},e.validateToNextPassword=function(t,a,n){var r=e.props.form;a&&e.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=(this.state.autoCompleteResult,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}});return r.a.createElement(Pe.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),r.a.createElement(Pe.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(Fe.a,null))),r.a.createElement(Pe.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(Fe.a.Password,null))),r.a.createElement(Pe.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(Fe.a.Password,{onBlur:this.handleConfirmBlur}))),r.a.createElement(Pe.a.Item,{label:"First Name",hasFeedback:!0},e("firstName",{rules:[{required:!0,message:"Please input your First Name!"}]})(r.a.createElement(Fe.a,null))),r.a.createElement(Pe.a.Item,{label:"Last Name",hasFeedback:!0},e("lastName",{rules:[{required:!0,message:"Please input your Last Name!"}]})(r.a.createElement(Fe.a,null))),r.a.createElement(Pe.a.Item,t,r.a.createElement(Be.a,{type:"primary",htmlType:"submit",style:{width:"120px",background:"#009688",borderColor:"#009688"}},"Register")))}}]),a}(r.a.Component),Re=Pe.a.create({name:"register"})(Ue),He=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(e){console.log("Success:",e)},e.onFinishFailed=function(e){console.log("Failed:",e)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Register"},r.a.createElement("div",{className:"Login-box"},r.a.createElement(Re,{className:"Login-form",updatePage:this.props.updatePage})),r.a.createElement("div",{className:"background"},r.a.createElement("img",{className:"background-drone",src:Ae.a,alt:"logo",width:"1000"})))}}]),a}(n.Component),qe=a(536),We=a(534),Ve=a(251),Qe=a.n(Ve),Je=a(252),Me=a.n(Je),Ye=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.userHistory?this.props.userHistory:[];return console.log(e),r.a.createElement("div",{className:"history"},r.a.createElement("div",{className:"lander"},this.props.user?r.a.createElement("h1",null,"Your order history"):r.a.createElement("h1",null,"Login first to see history"),r.a.createElement("div",{className:"history-box"},r.a.createElement(qe.a,{className:"history-list",itemLayout:"horizontal",dataSource:e,renderItem:function(e){return r.a.createElement(qe.a.Item,null,r.a.createElement(qe.a.Item.Meta,{avatar:r.a.createElement(We.a,{className:"order-avatar",size:120,shape:"square",src:"DRONE"===e["Carrier Type"]?Me.a:Qe.a}),title:r.a.createElement("div",null,r.a.createElement("div",null,"Order Id: ",e["Order Id"]),r.a.createElement("div",null,"Status: ",e.Status)),description:r.a.createElement("div",null,r.a.createElement("div",null,"Carrier Type: "+e["Carrier Type"]),r.a.createElement("div",null,"From: "+e.From),r.a.createElement("div",null,"To: "+e.To))}))}})),this.props.user&&r.a.createElement(S.Link,{to:"/"},r.a.createElement(Be.a,{size:"large",style:{fontSize:16,margin:"25px",width:"250px"}},"Go Back"))))}}]),a}(n.Component);function _e(e){var t=Object(g.k)(),a=(Object(g.l)(),function(e){t.replace(e)});return r.a.createElement(g.g,null,r.a.createElement(g.d,{exact:!0,path:"/"},r.a.createElement(Te,{user:e.user,logout:e.logout,onClickUser:e.onClickUser})),r.a.createElement(g.d,{exact:!0,path:"/login"},r.a.createElement(ze,{updatePage:a,updateLogin:e.updateLogin,updateUser:e.updateUser})),r.a.createElement(g.d,{exact:!0,path:"/register"},r.a.createElement(He,{updatePage:a})),r.a.createElement(g.d,{exact:!0,path:"/history"},r.a.createElement(Ye,{updatePage:a,user:e.user,userHistory:e.userHistory})))}var Ge=a(191),Ke=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).updateLogin=function(t){e.setState({login:t})},e.updateUser=function(t){e.setState({user:t}),console.log("Update User: ",t)},e.logout=function(){fetch("http://18.191.48.223/dispatchDeliveryBackend/Login/logout",{method:"POST",headers:{Origin:"http://localhost:3000"}}).then((function(e){return e.json()})).then((function(t){console.log("Logout Success:",t),e.updateLogin(!1),e.setState({user:null})})).catch((function(t){console.error("Logout Error:",t),e.updateLogin(!1),e.setState({user:null})}))},e.getHistory=function(t){fetch("http://18.191.48.223/dispatchDeliveryBackend/Login/history/user",{method:"POST",headers:{"Content-Type":"application/json",Origin:"http://localhost:3000"},body:JSON.stringify(t)}).then((function(e){if(e.status>=400&&e.status<600)throw new Error("Bad response from server");return e.json()})).then((function(t){e.setState({userHistory:t}),console.log("History:",t)})).catch((function(e){console.error("History Failed:",e),alert("The email or password is incorrect!!")}))},e.onClickUser=function(){e.getHistory(e.state.user)},e.state={login:!1,user:null},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},0==this.state.login?r.a.createElement(u.a,{fluid:!0,collapseOnSelect:!0},r.a.createElement(u.a.Collapse,null,r.a.createElement(m.a,{pullRight:!0},r.a.createElement(Ge.LinkContainer,{to:"/register"},r.a.createElement(d.a,null,"Register")),r.a.createElement(Ge.LinkContainer,{to:"/login"},r.a.createElement(d.a,null,"Login"))))):r.a.createElement("div",null),r.a.createElement(_e,{updateLogin:this.updateLogin,updateUser:this.updateUser,user:this.state.user,userHistory:this.state.userHistory,onClickUser:this.onClickUser,logout:this.logout}))}}]),a}(n.Component);n.Component;var Ze=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Ke,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(S.BrowserRouter,null,r.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[273,1,2]]]);
//# sourceMappingURL=main.faeafa49.chunk.js.map